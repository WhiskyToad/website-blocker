import{r as l,j as a,c as v}from"./index-DomEt2V-.js";const w={Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday"};async function S(t){const n=await c();n.push(t),await chrome.storage.local.set({categories:n})}async function c(){const{categories:t}=await chrome.storage.local.get("categories");return t||[]}async function b(t){const r=(await c()).filter(s=>s.id!==t);await chrome.storage.local.set({categories:r})}var g,T=new Uint8Array(16);function R(){if(!g&&(g=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(T)}const A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function D(t){return typeof t=="string"&&A.test(t)}var o=[];for(var p=0;p<256;++p)o.push((p+256).toString(16).substr(1));function k(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(o[t[n+0]]+o[t[n+1]]+o[t[n+2]]+o[t[n+3]]+"-"+o[t[n+4]]+o[t[n+5]]+"-"+o[t[n+6]]+o[t[n+7]]+"-"+o[t[n+8]]+o[t[n+9]]+"-"+o[t[n+10]]+o[t[n+11]]+o[t[n+12]]+o[t[n+13]]+o[t[n+14]]+o[t[n+15]]).toLowerCase();if(!D(r))throw TypeError("Stringified UUID is invalid");return r}function E(t,n,r){t=t||{};var s=t.random||(t.rng||R)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,k(s)}const z=()=>{const[t,n]=l.useState([]),[r,s]=l.useState(""),[i,u]=l.useState({days:[],startTime:"",endTime:""}),[m,f]=l.useState(""),[y,x]=l.useState("");l.useEffect(()=>{(async()=>{const d=await c();n(d)})()},[]);const h=async()=>{if(!r.trim()){alert("Category name is required.");return}const e={name:r,schedule:i,id:E()};await S(e);const d=await c();n(d),s(""),u({days:[],startTime:"",endTime:""})},C=async e=>{await b(e);const d=await c();n(d)},j=async()=>{if(!m){alert("Please select a category.");return}if(!y.trim()){alert("Domain name is required.");return}const e=await c();n(e),x("")};return a.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[a.jsx("h1",{children:"Category Manager"}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("h2",{children:"Add New Category"}),a.jsx("input",{type:"text",placeholder:"Category Name",value:r,onChange:e=>s(e.target.value),style:{padding:"10px",fontSize:"16px",width:"300px",marginRight:"10px"}}),a.jsx("input",{type:"time",value:i.startTime,onChange:e=>u({...i,startTime:e.target.value}),style:{padding:"10px",fontSize:"16px",marginRight:"10px"}}),a.jsx("input",{type:"time",value:i.endTime,onChange:e=>u({...i,endTime:e.target.value}),style:{padding:"10px",fontSize:"16px",marginRight:"10px"}}),a.jsx("select",{multiple:!0,value:i.days,onChange:e=>u({...i,days:Array.from(e.target.selectedOptions,d=>d.value)}),style:{padding:"10px",fontSize:"16px",marginRight:"10px"},children:Object.keys(w).map(e=>a.jsx("option",{value:e,children:e},e))}),a.jsx("button",{onClick:h,style:{padding:"10px",fontSize:"16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add Category"})]}),a.jsx("h2",{children:"Categories"}),a.jsx("ul",{children:t.map(e=>a.jsxs("li",{style:{marginBottom:"20px"},children:[a.jsx("strong",{children:e.name}),e.schedule&&a.jsxs("p",{children:["Active on: ",e.schedule.days.join(", ")," from"," ",e.schedule.startTime," to ",e.schedule.endTime]}),a.jsx("ul",{}),a.jsx("button",{onClick:()=>C(e.id),style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delete Category"})]},e.name))}),a.jsxs("div",{style:{marginTop:"20px"},children:[a.jsx("h2",{children:"Add Domain to Category"}),a.jsxs("select",{value:m,onChange:e=>f(e.target.value),style:{padding:"10px",fontSize:"16px",marginRight:"10px"},children:[a.jsx("option",{value:"",children:"Select Category"}),t.map(e=>a.jsx("option",{value:e.name,children:e.name},e.name))]}),a.jsx("input",{type:"text",placeholder:"Domain (e.g., google.com)",value:y,onChange:e=>x(e.target.value),style:{padding:"10px",fontSize:"16px",width:"300px",marginRight:"10px"}}),a.jsx("button",{onClick:j,style:{padding:"10px",fontSize:"16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add Domain"})]})]})},N=()=>a.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[a.jsx("h1",{children:"Manage Blocked Sites"}),a.jsx(z,{})]});v.createRoot(document.getElementById("root")).render(a.jsx(l.StrictMode,{children:a.jsx(N,{})}));
